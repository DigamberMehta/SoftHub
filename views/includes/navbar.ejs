<div class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <h2>SoftHub-Center</h2>
  </div>
  <div class="close-btn" id="close-btn">&times;</div>

  <section class="side-bar-main">

    <div class="side-bar-signin">
      <a href="/login">
        <img src="/images/user.svg" alt>
        <div class="sign-in-text">
          <h3>Sign or Login</h3>
        </div>
      </a>
    </div>
    

    <div id="google_translate_element"></div>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element');
      }
    </script>
    <script type="text/javascript"
      src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <div class="side-bar-content">

      <li class="content-list">
        <a href="#" class="sidebar-link">
          <!-- <img src="images/sidebar-img/bx-chat.svg" alt="Boxcoin Icon" class="icon"> -->
          <span class="list-name" style="font-size: 1.4rem;">Platform</span>
          <div class="right-arrow-img">
            <img src="/images/menu-icon/right-arrow.svg" alt width="30px" height="30px">
          </div>
        </a>
      </li>

      <div class="platform-content-list">

        <li class="platformss">
          <a href="platform/android/index.html" class="platform-sidebar-link">
            <img src="/images/menu-icon/bxl-android.svg" alt="Boxcoin Icon" class="platform-icon">
            <span class="platform-list-name">Android</span>

          </a>
        </li>

        <li class="platformss">
          <a href="platform/Apple/index.html" class="platform-sidebar-link">
            <img src="/images/menu-icon/bxl-apple.svg" alt="Boxcoin Icon" class="platform-icon"
              width="35px" height="35px">
            <span class="platform-list-name">MacOS</span>

          </a>
        </li>
        <li class="platformss">
          <a href="platform/window/index.html" class="platform-sidebar-link">
            <img src="/images/menu-icon/bxl-windows.svg" alt="Boxcoin Icon" class="platform-icon">
            <span class="platform-list-name">Windows</span>

          </a>
        </li>
      </div>
      <hr>

      <% for (let category in listingsByCategory) { %>
        <li class="content-list">
          <a href="/home/category/<%= category %>" class="sidebar-link">
            <img src="<%= categoryIcons[category] || '/images/menu-icon/default-icon.svg' %>" alt="Category Icon" class="icon">
            <span class="list-name"><%= category.charAt(0).toUpperCase() + category.slice(1) %></span>
            <div class="right-arrow-img">
              <img src="/images/menu-icon/right-arrow.svg" alt="Right Arrow" width="30px" height="30px">
            </div>
          </a>
        </li>
      <% } %>
      

    

    </div>

  </section>
</div>

<section class="home-section centered-zone" id="home-section">
  <nav class="nav-bar">
    <div class="hamburger">
      <i class="bx bx-menu" id="hamburger-btn"></i>
    </div>

    <div class="logo"> <a href="/home">
        <img src="/images/traillogo.png" alt="logo">
      </a>
    </div>

    <form action="/search/results" method="get">
      <div class="search">
        <div class="search-container">
          <input type="text" name="q" placeholder="Search..." required>
          <button type="submit"><i class="fa fa-search"></i></button>
        </div>
      </div>
    </form>


    <ul class="platform-logo">
      <li><a href><img src="https://upload.wikimedia.org/wikipedia/commons/5/5f/Windows_logo_-_2012.svg" alt="windows"
            height="40" width="40"></a></li>
      <li><a href="platform/Apple/index.html" target="_blank"><img
            src="https://upload.wikimedia.org/wikipedia/commons/d/d7/Android_robot.svg" alt="MacOS" height="40"
            width="40"></a></li>
      <li><a href="platform/android/index.html" target="_blank"><img
            src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg" alt="Android" height="40"
            width="40"></a></li>
    </ul>
    </div>
    <!-- <button id="dark-mode-toggle">dark mode </button> -->
     <% if (!currentUser) { %> 
    <div class="sign-in">
      <a href="/login" target="_blank" class>
        <button class="signin-button">Sign In</button>
      </a>
    </div>
    <% } %>

     <% if (currentUser) { %> 
    <div class="sign-in">
      <a href="/logout" >
        <button class="signin-button">Logout</button>
      </a>
    </div>
    <% } %>

    <div class="open-search">
      <button type="button"><i class="fa fa-search"></i></button>
    </div>
  </nav>

 


  <nav class="secondary-nav">
    <div class="new-search-container">
      <form action="/search/results" method="get" id="new-search-form" style="display: flex; align-items: center; width: 100%;">
        <div class="new-search-text-area" style="flex: 1;">
          <input type="text" name="q" placeholder="New Search..." id="new-search-input" required>
        </div>
        <div id="new-search-icon">
          <button type="submit"><i class="fa fa-search"></i></button>
        </div>
        <div id="new-close-search">
          <button type="button" id="close-search">cancel</button>
        </div>
      </form>
    </div>
  </nav>
  
  

  

  <script>
$(document).ready(function(){
  var secondaryNavHeight = '19.2px';
  var originalMarginTop = '0px';

  $(".open-search").click(function(){
    $(".secondary-nav").fadeIn();
    $(".open-search").fadeOut();
    $(".Container.__top").animate({ 'margin-top' : secondaryNavHeight });
  });

  $("#new-close-search").click(function(){
    $(".secondary-nav").fadeOut(function() {
      $(".open-search").fadeIn();
      $(".Container.__top").animate({ 'margin-top' : originalMarginTop });
    });
  });

  $(window).resize(function(){
    if ($(window).width() > 810) {
      $(".secondary-nav").fadeOut();
      $(".Container.__top").animate({ 'margin-top' : originalMarginTop });
    } else {
      $(".open-search").fadeIn();
    }
  });

  $("#new-search-form").submit(function(event) {
    // This will ensure the form is submitted correctly
    if ($("#new-search-input").val().trim() === "") {
      event.preventDefault(); // Prevent form submission if the input is empty
    }
  });
});


  </script>